{% extends "got/base_generic.html" %}

{% block content %}
<h1>Megger y mantenimiento eléctrico de motores y generadores</h1>

<!-- Encabezado con OT y equipo -->
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Orden de Trabajo (OT)</th>
            <th>Equipo</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ megger.ot }}</td>
            <td>{{ megger.equipo.name }}</td>
        </tr>
    </tbody>
</table>

<!-- Tabla para el modelo Estator -->
<h2>Estator</h2>
<table class="table table-bordered">
    <thead>
        <tr>
            <th></th>
            <th>Prueba inicial</th>
            <th>Prueba final</th>
        </tr>
    </thead>
    <tbody>
        <!-- PI y PF a 1 minuto -->
        <tr>
            <td>PI 1min L1 Tierra</td>
            <td>{{ estator_form.pi_1min_l1_tierra.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l1_tierra.value|default_if_none:"N/A" }}</td>
        </tr>
        <tr>
            <td>PI 1min L2 Tierra</td>
            <td>{{ estator_form.pi_1min_l2_tierra.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l2_tierra.value|default_if_none:"N/A" }}</td>
        </tr>
        <tr>
            <td>PI 1min L3 Tierra</td>
            <td>{{ estator_form.pi_1min_l3_tierra.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l3_tierra.value|default_if_none:"N/A" }}</td>
        </tr>
        <tr>
            <td>PI 1min L1-L2</td>
            <td>{{ estator_form.pi_1min_l1_l2.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l1_l2.value|default_if_none:"N/A" }}</td>
        </tr>
        <tr>
            <td>PI 1min L2-L3</td>
            <td>{{ estator_form.pi_1min_l2_l3.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l2_l3.value|default_if_none:"N/A" }}</td>
        </tr>
        <tr>
            <td>PI 1min L3-L1</td>
            <td>{{ estator_form.pi_1min_l3_l1.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_1min_l3_l1.value|default_if_none:"N/A" }}</td>
        </tr>
        <!-- PI y PF a 10 minutos -->
        <tr>
            <td>PI 10min L1 Tierra</td>
            <td>{{ estator_form.pi_10min_l1_tierra.value|default_if_none:"N/A" }}</td>
            <td>{{ estator_form.pf_10min_l1_tierra.value|default_if_none:"N/A" }}</td>
        </tr>
        <!-- Continúa con los demás campos siguiendo el mismo patrón -->
    </tbody>
</table>

{% endblock %}

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
    // Add click handlers for modal opening if necessary
});
</script>
